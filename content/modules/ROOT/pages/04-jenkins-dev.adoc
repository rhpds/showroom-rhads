= Advanced Developer Suite Demo Instructions
Red Hat Advanced Developer Suite with Enterprise Contract and Artifact Signer
:source-highlighter: rouge
:toc: macro
:toclevels: 1

== Part 1 — Introduce the Context

=== Know
_ACME has significant Jenkins investments powering critical applications. RHADS modernizes their pipelines while preserving valuable Jenkins infrastructure and expertise._

**Business Value:**
* Jenkins pipeline setup: 1–2 weeks → 5 minutes
* Preserves existing Jenkins infrastructure and team expertise
* Zero manual security configuration or coordination
* Standardized pipelines eliminate maintenance overhead

**How RHADS Solves ACME's Jenkins Modernization Challenge:**
* **Preserve Jenkins Investment:** Leverage existing infrastructure and skills
* **Add Modern Self-Service:** Developers create production-ready pipelines in minutes
* **Enhance Security:** Enterprise security integrated into existing workflows
* **Reduce Platform Overhead:** Standardized templates replace hand-crafted pipelines

This approach modernizes at enterprise speed while protecting Jenkins investments and expertise.

[NOTE]
====
This demo complements the OpenShift Pipelines (Tekton) path. While Tekton is cloud-native and tightly integrated with OpenShift, this version focuses on Jenkins, which remains widely adopted in many enterprises.
====

=== Show
* Introduce ACME and the developer challenge.
* Display the Jenkins flow diagram:
+
image::jenkins_car.jpg[align="center",width=500]
* Explain: ACME uses Red Hat Developer Hub and RHADS to deliver a self-service template that provisions a Quarkus app with Jenkins-based CI/CD, using GitLab for source, Quay for images, and Jenkins for pipelines.

== Part 2 — Scaffold a New Application in Red Hat Developer Hub

=== Know
_ACME's Jenkins transformation starts with one developer action that eliminates weeks of setup while maintaining familiar Jenkins workflows._

**ACME's Traditional Jenkins Setup Challenge:**
* 1–2 weeks waiting for custom Jenkins pipelines
* Multiple coordination meetings across dev, platform, and security
* Manual security integration into Jenkins
* Inconsistent configurations and compliance challenges

**RHADS Business Solution for ACME:**
* **Zero Jenkins Setup Time:** Instant production-ready pipelines with security built-in
* **Zero Platform Coordination:** Self-service without DevOps intervention
* **Zero Configuration Drift:** Standardized templates ensure consistency
* **Zero Security Gaps:** Enterprise security integrated by default

**Business Impact for ACME:**
* Pipeline creation: 1–2 weeks → 5 minutes
* Platform efficiency: 75% fewer Jenkins setup requests
* Compliance: 100% consistent across new Jenkins apps
* Developer velocity: No waiting for infrastructure or security wiring

=== Show
* Navigate to `{rhdh_url}[Red Hat Developer Hub^]` and click *Sign In*.
+
image::jenkins-dev-1.png[]
* Sign in:
+
[subs=attributes+]
----
Username: {rhdh_user}
Password: {rhdh_user_password}
----
* Click **+ Self-service** to create a new software component.
+
image::jenkins-dev-2.png[]
* Choose the template: _Securing a Quarkus Service Software Supply Chain (Jenkins)_.
+
image::jenkins-dev-3.png[]
* Accept defaults unless customization is needed.

Application Information:

[cols="1,2",options="header"]
|===
| Field | Default Value
| Name | `my-quarkus-jnk`
| Group ID | `redhat.rhdh`
| Artifact ID | `my-quarkus-jnk`
| Java Package Name | `org.redhat.rhdh`
| Description | `A cool Quarkus app`
|===

* Click *Next*.

Image Registry Information:

[cols="1,2",options="header"]
|===
| Field | Default Value
| Image Registry | `Quay`
| Organization | `tssc`
|===

* Click *Next*.

Repository Information:

[cols="1,2",options="header"]
|===
| Field | Default Value
| Source Repo | `GitLab`
| Repo Owner | `development`
| Verify Commits | `enabled`
|===

* Click *Review*, then *Create*.
+
image::jenkins-dev-5.png[]

[TIP]
====
This step does more than generate code. The template:
* Initializes source and GitOps repos in GitLab
* Configures GitLab webhooks to trigger Jenkins
* Commits Jenkinsfiles and Kubernetes manifests
* Registers the component in the Developer Hub catalog
* Optionally triggers the initial CI/CD run if *Verify Commits* is disabled
====

[NOTE]
====
`Verify Commits` enables signing and verification via `gitsign` with Red Hat's Trusted Software Supply Chain.
====

== Part 3 — Make a Code Change in OpenShift Dev Spaces

=== Know
_ACME must maintain velocity while meeting enterprise security requirements. RHADS makes secure development seamless within familiar Jenkins workflows._

**Enterprise Security Requirements:**
* Commit traceability to a specific developer
* No unsigned code in pipelines
* Complete audit trails
* Seamless integration with Jenkins

**RHADS Benefits:**
* **Invisible Security:** Signing happens in the normal flow
* **No Velocity Loss:** Security enhances productivity
* **Built-in Compliance:** Real-time audit evidence
* **Jenkins Integration:** Works with current expertise

[NOTE]
====
If *Verify Commits* was enabled, a signed commit is required to trigger the pipeline.
====

=== Show
* In Developer Hub, open the *Catalog* and select `my-quarkus-jnk`.
+
image::jenkins-dev-6.png[]
* Open the component *Overview* page and click *OpenShift Dev Spaces*.
+
image::jenkins-dev-7.png[]
* If redirected, click *Log in with OpenShift*.
+
image::jenkins-dev-8.png[]
* Sign in:
+
[subs=attributes+]
----
Username: {rhdh_user}
Password: {rhdh_user_password}
----
* Click *Allow selected permissions* when prompted.
+
image::jenkins-dev-9.png[]
* Trust the repository when prompted and click *Continue*.
+
image::jenkins-dev-10.png[]
* When asked to authenticate with GitLab:
+
[subs=attributes+]
----
Username: {gitlab_user}
Password: {gitlab_user_password}
----
+
image::jenkins-dev-11.png[]
* Click *Authorize devspaces*.
+
image::jenkins-dev-12.png[]
* Wait for the workspace to load VS Code. Trust all workspaces/authors if prompted.
+
image::jenkins-dev-13.png[]

In Dev Spaces:
* Open `my-quarkus-jnk/docs/index.md`.
* Add a new line (for example, `This is a test edit.`).
* Open the integrated terminal:
  * `Terminal → New Terminal`
+
image::jenkins-dev-14.png[]

Stage, commit, sign, and push:

[source,bash]
----
git add .
git commit -m "Update"
----

* The terminal shows a `gitsign` URL.
+
image::jenkins-dev-15.png[]
* Open the URL, authenticate with `{rhdh_user}` / `{rhdh_user_password}`, and copy the code.
+
image::jenkins-dev-16.png[]
* Paste the code into the terminal to complete signing. Allow paste if prompted.
+
image::jenkins-dev-17.png[]

[source,bash]
----
git push
----

This push triggers the CI/CD pipeline via GitLab webhook.

[NOTE]
====
A signed commit is required when *Verify Commits* is enabled.
====

== Part 4 — What Happens Behind the Scenes

=== Know
_A simple code change triggers enterprise automation that eliminates weeks of manual work while enforcing security and compliance._

**Business Value:**
* Setup time: weeks → minutes
* Eliminates manual handoffs and configuration
* Standardizes security across applications
* Scales platform teams across many dev teams

== Part 5 — Show the Build Pipeline (Jenkins)

=== Know
_ACME's leadership wants to see that their Jenkins investment can deliver modern security and compliance without leaving familiar workflows._

**Business Value of Enhanced Jenkins Pipelines:**
* Preserve Jenkins investment and expertise
* Add modern supply chain security and compliance
* Maintain familiar interfaces and operational continuity
* Generate real-time audit evidence

You should see three pipeline runs in Developer Hub: `maven-ci-build`, `promote-to-stage`, and `promote-to-prod`. Open `maven-ci-build` in Jenkins Blue Ocean for a visual walkthrough.

=== Show
* In Developer Hub, open the *CI* tab for `my-quarkus-jnk`.
* Verify the three pipeline runs:
  * `maven-ci-build`
  * `promote-to-stage`
  * `promote-to-prod`
+
image::jenkins-dev-18.png[]
* Click *View build* to open Jenkins, then *Open Blue Ocean*.
+
image::jenkins-dev-19.png[]

=== Brief Note on Pipelines as Code

=== Know
_Pipelines are versioned with the application code, enabling transparency, consistency, and adaptability._

**Benefits:**
* Transparent: developers see how builds work
* Consistent: shared structure across projects
* Adaptable: changes tracked like code

* For developers: faster iteration without tickets
* For platform/security teams: standards enforced via shared libraries and templates

== Part 6 — Jenkins Pipeline Tasks

=== Know
_The pipeline stages show how enterprise security integrates into familiar Jenkins patterns._

**Business Value of Each Stage:**
* Familiar Jenkins interface with enhanced security
* Automatic compliance for SOC 2 and PCI
* Operational continuity and knowledge preservation

image::jenkins-dev-20.png[]

Guide the audience through each stage.

=== Show
* Click through these stages in Jenkins:
  * `verify-commit` (if present)
  * `mvn package`
  * `init`
  * `build`
  * `deploy-and-upload-to-tpa` (parallel)
  * `acs` (parallel)
  * `summary`
* Open the `Jenkinsfile` in the root of the GitLab repo for `my-quarkus-jnk`.

=== Stage: verify-commit (optional)

==== Know
_Automatic commit verification enforces traceability and authenticity._

**Business Value:**
* Compliance automation within Jenkins
* Invisible security for developers
* Complete audit readiness

Verifies signed commit authenticity with `gitsign` and RHTAS. Appears only when *Verify Commits* is enabled.

=== Stage: mvn package

==== Know
_Familiar Maven build enhanced with dependency tracking and security scanning._

**Business Value:**
* Process continuity with added insights
* Risk management for dependencies
* Build provenance for audits

Runs `mvn package` to compile and produce the Quarkus JAR.

=== Stage: init

==== Know
_Standardized initialization eliminates configuration drift._

**Business Value:**
* Consistency across pipelines
* Reduced maintenance via shared library
* Predictable behavior

Prepares environment variables and shared context using the `rhtap` Jenkins library.

=== Stage: build

==== Know
_Container build adds signing and provenance automatically._

**Business Value:**
* Security automation for images
* Compliance confidence via cryptographic proof
* Enhanced Jenkins process without disruption

Builds container with `buildah`, signs with `cosign`, and generates provenance.

=== Stage: deploy-and-upload-to-tpa (parallel)

==== Know
_Automatic GitOps updates and SBOM management without manual Jenkins coordination._

**Business Value:**
* Automated deployment through GitOps
* SBOM tracking for vulnerabilities and audits
* Reduced platform handoffs

* *deploy*: updates the GitOps repo with new image tag, triggering Argo CD for dev deployment.
* *upload_sbom_to_trustification*: uploads SBOM to Red Hat Trusted Profile Analyzer (TPA).

Visit `{tpa_url}[Red Hat Trusted Profile Analyzer^]` with `{tpa_user}` / `{tpa_user_password}`.

=== Stage: acs (parallel)

==== Know
_Security validation catches issues before production exposure._

**Business Value:**
* Risk prevention within Jenkins
* Policy enforcement by default
* Avoidance of costly incidents

* *acs_deploy_check*: verifies Kubernetes manifests
* *acs_image_check*: enforces image policy
* *acs_image_scan*: scans for vulnerabilities with RHACS

Visit `{acs_url}[Red Hat Advanced Cluster Security^]` with `{acs_admin_user}` / `{acs_admin_password}`.

=== Stage: summary

==== Know
_Comprehensive summary centralizes build and security status in Jenkins._

**Business Value:**
* Operational visibility
* Audit evidence
* Team efficiency

Summarizes build status and key artifacts, leveraging reusable `rhtap` library functions.

== Part 7 — Summary

=== Know
* ACME created a new Quarkus service via Developer Hub
* Jenkins CI/CD pipeline was pre-configured and triggered automatically
* Commits were signed and verified
* Images were built, signed, scanned, and attested
* Deployment to development occurred through GitOps

== Part 8 — Wrap-Up

=== Know
_ACME's Jenkins transformation shows how enterprises can enhance investments while achieving modern security and speed._

**Business Results for ACME:**
* Investment protection: Jenkins enhanced, not replaced
* Velocity increase: setup from weeks to minutes
* Security enhancement: enterprise-grade security by default
* Team satisfaction: familiar Jenkins with modern self-service
* Platform efficiency: 75% fewer setup requests
* Compliance automation: SOC 2 and PCI readiness built-in

**Key Takeaways**
* Secure-by-default delivery
* Streamlined developer onboarding
* Governance through automation
* Platform scaling with templates and shared pipelines
* Full transparency and traceability
* End-to-end toolchain integration across GitLab, Quay, Jenkins, and RHACS

**Optional Enhancements**
* Explore the Developer Hub Catalog entry for metadata and links
* Follow the commit link to GitLab and the CI link to Jenkins
* Show template flexibility for other stacks such as Python, Node.js, or Spring Boot
* Highlight cross-team collaboration on templates and policies
